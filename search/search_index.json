{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PromptForest Ranger","text":"<p>PromptForest Ranger (or PFRanger) is a CLI tool for auditing LLM prompts for injection attacks and jailbreaks. It leverages the PromptForest ensemble engine to scan datasets and generate comprehensive and accurate HTML reports, mitigating the problem of high-certainty false positives.</p> <p></p>"},{"location":"#intended-use-cases","title":"Intended Use Cases","text":"<p>We intend this tool to be a swiss army knife: it should be used for multiple situations regarding unsafe prompts. Here are some, but not all, of the ways to use PFRanger:</p> <ol> <li> <p>Processing Unsafe Datasets     Huge datasets may contain prompts that weaken a model, making it more vulnerable to jailbreak attempts. PFRanger can mitigate this issue before you feed it to your model.</p> </li> <li> <p>Auditing Datasets     Feeding potentially dangerous datasets into AI model with highly privileged abilities may produce catastrophic results. PFRanger helps by giving you an overview of the dataset's security.</p> </li> </ol>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Works Offline: All data stays on your computer.</li> <li>Accurate and Reliable: PFRanger utilises the PromptForest engine, which provides responses that are not only accurate, but also calibrated and reliable. PromptForest uses a strategically selected ensemble of small models using soft weighted model voting.</li> <li>Fast: Startup latency of ~3s and an average request rate of 27 prompts/s on a consumer GPU with optimal parallelization.</li> <li>Informative: Supports a large number of input and output file types. Also outputs a shareable HTML file to help you analyse the data.</li> </ul>"},{"location":"#how-it-works","title":"How it Works","text":"<p>PromptForest automatically handles all model downloading on first run. Downloading takes around 3GB disk space and around a minute to download on consumer network download speeds.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>PFRanger uses the PromptForest engine, which can be configured via a YAML file. You can pass a configuration file using the <code>--config</code> argument.</p> <p>If no configuration is provided, PFRanger uses the default \"Benchmark\" configuration which balances accuracy and performance.</p>"},{"location":"configuration/#example-configuration","title":"Example Configuration","text":"<pre><code># Example configuration file for PromptForest\nmodels:\n  - name: llama_guard\n    enabled: true\n    accuracy_weight: 0.6\n\n  - name: vijil\n    enabled: true\n    accuracy_weight: 1.0\n\n  - name: xgboost\n    enabled: true\n    accuracy_weight: 0.5\n    threshold: 0.1\n\n# System Settings\nsettings:\n  # Device: 'auto' (default), 'cuda', 'mps', or 'cpu'\n  device: 'auto'\n\n  # Use half precision for faster inference on supported hardware\n  fp16: true\n\nlogging:\n  # Include detailed model scores in response \n  stats: true\n</code></pre>"},{"location":"configuration/#structure","title":"Structure","text":""},{"location":"configuration/#models","title":"<code>models</code>","text":"<p>A list of model definitions that participate in the ensemble.</p> <ul> <li><code>name</code>: The identifier of the model (e.g., <code>llama_guard</code>, <code>vijil</code>, <code>xgboost</code>).</li> <li><code>enabled</code>: <code>true</code> or <code>false</code> to enable/disable the model.</li> <li><code>accuracy_weight</code>: A float value representing the voting weight of this model in the ensemble.</li> <li><code>threshold</code>: (Optional) Specific threshold for this model if applicable.</li> </ul>"},{"location":"configuration/#settings","title":"<code>settings</code>","text":"<p>Global system settings.</p> <ul> <li><code>device</code>: Hardware acceleration device.<ul> <li><code>auto</code>: Automatically select best available (CUDA &gt; MPS &gt; CPU).</li> <li><code>cuda</code>: Force NVIDIA GPU.</li> <li><code>mps</code>: Force macOS Metal Performance Shaders (Apple Silicon).</li> <li><code>cpu</code>: Force CPU usage.</li> </ul> </li> <li><code>fp16</code>: Boolean. Enable 16-bit floating point precision (half-precision) to save memory and increase speed on compatible GPUs.</li> </ul>"},{"location":"configuration/#logging","title":"<code>logging</code>","text":"<p>Controls verbosity and output details.</p> <ul> <li><code>stats</code>: <code>true</code> to include detailed scoring statistics in the results.</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thanks for your interest in contributing! We welcome all contributions, whether it\u2019s bug reports, new features, documentation improvements, or general feedback.</p>"},{"location":"contributing/#how-to-contribute","title":"How to Contribute","text":"<ol> <li> <p>Fork the repository and clone it locally:     <pre><code>git clone https://github.com/appleroll-research/pfranger.git\ncd pfranger\n</code></pre></p> </li> <li> <p>Create a new branch for your work:     <pre><code>git checkout -b my-feature\n</code></pre></p> </li> <li> <p>Make your changes, add tests if applicable, and run them.</p> </li> <li> <p>Commit your changes with a clear message:     <pre><code>git commit -m \"[tag] Add feature X\"\n</code></pre></p> <p>You must add a tag at the front of your commit message. Please refer to the table below:</p> Tag Meaning <code>[improv]</code> Improvement of existing feature <code>[bug]</code> Fixed a bug <code>[docs]</code> Documentation update <code>[feat]</code> Adding a new feature </li> <li> <p>Push your branch to your fork:     <pre><code>git push origin my-feature\n</code></pre></p> </li> <li> <p>Open a Pull Request (PR) on the main repository. Include a clear description of what you did and why.</p> </li> </ol>"},{"location":"contributing/#good-first-issues","title":"Good First Issues","text":"<p>We label beginner-friendly tasks with <code>good first issue</code>. If this is your first contribution, look for those issues to get started.</p>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Python 3.11+</li> <li>Follow PEP8 style guidelines</li> <li>Include docstrings for new functions or classes</li> <li>Write tests for new features whenever possible</li> </ul>"},{"location":"contributing/#feedback-discussion","title":"Feedback &amp; Discussion","text":"<ul> <li>Open an issue if you have ideas, suggestions, or questions before contributing.</li> <li>Engage respectfully and constructively with maintainers and other contributors.</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>PFRanger is available as a Python package.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>Pip package manager</li> </ul>"},{"location":"installation/#install-via-pip","title":"Install via Pip","text":"<p>You can install PFRanger directly from PyPI:</p> <pre><code>pip install pfranger\n</code></pre>"},{"location":"installation/#install-from-source","title":"Install from Source","text":"<p>If you want to install from the source code:</p> <ol> <li> <p>Clone the repository:     <pre><code>git clone https://github.com/appleroll-research/pfranger.git\ncd pfranger\n</code></pre></p> </li> <li> <p>Install the package:     <pre><code>pip install .\n</code></pre></p> </li> </ol>"},{"location":"usage/","title":"Usage","text":"<p>PFRanger is a command-line interface (CLI) tool. You can run it using the <code>pfranger</code> command.</p>"},{"location":"usage/#basic-usage","title":"Basic Usage","text":"<pre><code>pfranger [INPUT_FILE] [OPTIONS]\n</code></pre>"},{"location":"usage/#examples","title":"Examples","text":"<p>Scan a CSV file: <pre><code>pfranger validation_prompts.csv -p text\n</code></pre></p> <p>Scan with custom configuration: <pre><code>pfranger prompts.jsonl -c my_config.yaml\n</code></pre></p> <p>Output to JSON alongside HTML: <pre><code>pfranger input.txt --output-format json\n</code></pre></p>"},{"location":"usage/#command-line-arguments","title":"Command Line Arguments","text":"Argument Short Description Default <code>input</code> Path to the file containing prompts. Required <code>--output</code> <code>-o</code> Path for the output HTML report. <code>report.html</code> <code>--input-format</code> <code>-f</code> Force input format (<code>csv</code>, <code>json</code>, <code>jsonl</code>, <code>txt</code>). If not specified, inferred from extension. Auto-detect <code>--output-format</code> Add an additional output format (<code>csv</code>, <code>json</code>, <code>text</code>, <code>txt</code>) alongside the HTML report. None <code>--prompt-col</code> <code>-p</code> Column name (CSV) or key (JSON) containing the prompts. <code>prompt</code> <code>--timestamp-col</code> <code>-t</code> Column name or key containing the timestamp. None <code>--workers</code> <code>-w</code> Number of parallel worker threads for scanning. <code>1</code> <code>--config</code> <code>-c</code> Path to a custom PromptForest YAML configuration file. Benchmark Defaults"},{"location":"usage/#input-formats","title":"Input Formats","text":"<p>PFRanger supports several input formats. It attempts to detect the format from the file extension, but you can force a format using <code>--input-format</code>.</p>"},{"location":"usage/#csv","title":"CSV","text":"<p>Expects a Comma Separated Values file. * Uses the column specified by <code>--prompt-col</code> (defaults to \"prompt\"). * If that column is missing, it falls back to the first column. * Optionally reads a timestamp column if <code>--timestamp-col</code> is provided.</p>"},{"location":"usage/#json-jsonl","title":"JSON &amp; JSONL","text":"<ul> <li>JSONL: Each line is a valid JSON object.</li> <li>JSON: Can be a list of objects <code>[...]</code> or a wrapper object <code>{\"prompts\": [...]}</code>.</li> <li>Extracts prompt text using <code>--prompt-col</code> key.</li> <li>If the items are simple strings instead of objects, it simply reads the strings.</li> </ul>"},{"location":"usage/#text-txtlog","title":"Text (txt/log)","text":"<ul> <li>Reads the file line by line.</li> <li>Each non-empty line is treated as a separate prompt.</li> </ul>"}]}